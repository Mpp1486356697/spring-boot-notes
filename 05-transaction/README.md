## 05-transaction:事务管理

#### spring-annotation-transaction:基于spring的注解式事务管理
1. 事务配置
1. 注解及其参数说明
1. 方法测试

#### aop-transaction:基于aop的约定式事务管理
1. 创建事务拦截器
1. 注入aop切面，约定式管理事务

#### multiple-datasource-transaction:多数据源事务配置
mybatis配置两个数据源，现象
1. 一个方法中，不配置事务，同时操作两个数据源保存数据，无异常 - 二者均保存成功
1. 一个方法中，不配置事务，同时操作两个数据源，中间出现异常 - 不回滚
1. 一个方法中，配置事务，同时操作两个数据源保存数据，无异常 - 二者均保存成功
1. 一个方法中，配置事务，同时操作两个数据源，中间出现异常 - 回滚

对比aop形式实时切换数据源的动态数据源配置，事务管理并不会导致方法中多数据源失效。
单纯一个项目中配置多数据源，适合的解决方案为配置多个mapperScan，而不是动态切换数据源。后者方法处于事务中时无法切换数据源，而不处于事务中，无法进行事务管理。

#### 分布式事务配置